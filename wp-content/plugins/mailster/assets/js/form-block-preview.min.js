document.documentElement.setAttribute("hidden",true);(function(){"use strict";var c,d="",t=document.querySelector(".wp-block-mailster-form-outside-wrapper-placeholder");document.documentElement.removeAttribute("hidden");if(t&&t.classList.contains("is-empty")){t.scrollIntoView({behavior:"auto",block:"center",inline:"nearest"})}document.querySelectorAll("a[href]").forEach(function(t){t.style.cursor="not-allowed";t.addEventListener("click",function(t){t.preventDefault();return false})});window.addEventListener("message",function(o){var n;try{n=JSON.parse(o.data);if(!n.id)return}catch(t){return}var t=new URLSearchParams;t.set("context","edit");t.set("_locale","user");t.set("attributes[id]",n.id);n.options.align&&t.set("attributes[align]",n.options.align);var e={width:n.options.width,padding:n.options.padding,classes:["mailster-block-form-type-"+n.type],isPreview:true};if(n.type!="content"){e["triggers"]=n.options.triggers;e["trigger_delay"]=2;e["trigger_inactive"]=4;e["trigger_scroll"]=n.options.trigger_scroll}var i="wp/v2/block-renderer/mailster/form?"+t.toString();if(i!=c){wp.apiFetch({method:"POST",path:i,data:{block_form_content:n.post_content,args:e}}).then(function(t){document.querySelector(".wp-block-mailster-form-outside-wrapper-"+n.id).outerHTML=t.rendered;s();return t}).catch(function(t){var e=document.querySelector(".wp-block-mailster-form-outside-wrapper-"+n.id);e.classList.add("has-error");e.innerHTML=t.message;o.source.postMessage(JSON.stringify({success:false,error:t,location:location.origin+location.pathname}),o.origin)}).finally(function(){})}else{s()}function r(){var t={};t["flex-basis"]=n.options.width?Math.min(96,n.options.width)+"%":"100%";if(n.options.padding){t["paddingTop"]=n.options.padding.top||0;t["paddingRight"]=n.options.padding.right||0;t["paddingBottom"]=n.options.padding.bottom||0;t["paddingLeft"]=n.options.padding.left||0}return t}function a(){var t=document.getElementById("mailster-form-view-script-js");var e=document.createElement("script");e.id="mailster-form-view-script-js";e.src=t.src;t.parentNode.removeChild(t);document.head.appendChild(e)}function s(){var t=document.querySelector(".wp-block-mailster-form-outside-wrapper-"+n.id);t.classList.remove("has-animation","animation-"+d);if(n.options.animation){t.classList.add("has-animation","animation-"+n.options.animation);d=n.options.animation}var e=t.querySelector(".mailster-block-form");Object.assign(e.style,r());c=i;o.source.postMessage(JSON.stringify({success:true,location:location.origin+location.pathname}),o.origin);a()}});function n(){var t=document.documentElement,e=document.body,o="scrollTop",n="scrollHeight";var i=(t[o]||e[o])/((t[n]||e[n])-t.clientHeight);return parseFloat((i*100).toFixed())}function e(){return document.documentElement["scrollTop"]||document.body["scrollTop"]}function o(){var e=document.createElement("div");Object.assign(e.style,{position:"fixed",top:0,right:0});e.innerHTML="0";document.body.appendChild(e);var o=document.querySelector(".wp-block-mailster-form-outside-wrapper-placeholder");var t=Array.from(o.parentNode.children).filter(function(t){return t!==o&&(t.tagName==="H2"||t.tagName==="P")});t.forEach(function(t){t.style.outline="1px dotted red"});["scroll","touchstart"].forEach(function(t){window.addEventListener(t,i(function(){e.innerHTML=n()},5),true)})}function i(r,a,s){var c;return function t(){var e=this;var o=arguments;var n=function(){c=null;if(!s){r.apply(e,o)}};var i=s&&!c;clearTimeout(c);c=setTimeout(n,a);if(i){r.apply(e,o)}}}})();