(function(){"use strict";function e(){a(m,r);delete o[u]}function n(e){if(!v)return;v.parentNode.removeChild(v);a(y,n);if(e&&e.type!=y)history.back();x=false}function t(e,t){var r=e.dataset,n=e.innerHTML,i=e.getAttribute("href"),a,o;r.button=t+1;r.label=n;r.origin=l(location.href);r.referer=location.href;o=i+"&"+c(r);a=s("width:0px;height:24px;");a.src=o;e.innerHTML="";e.parentNode.replaceChild(a,e);return{element:e,iframe:a}}function r(e){if(typeof e.data!="string")return;var t=e.data.split("|");if(t[0]!="mailster")return;switch(t[1]){case"d":var r=w[t[4]-1].iframe;r.style.width=t[2]+"px";r.style.height=t[3]+"px";break;case"s":if(x)break;var r=s("left:0px;top:0px;width:100%;height:100%;z-index:999999;position:fixed !important;",function(){w[t[4]-1].iframe.contentWindow.postMessage("l",t[2]);i(y,n);history.pushState(f,f,location.href)});r.src=t[2];d.getElementsByTagName("body")[0].appendChild(r);v=r;x=true;break;case"c":n();break}}function s(e,t){var r=d.createElement("iframe");r[b]("frameBorder","0");r[b]("allowtransparency","true");r[b]("scrolling","no");r.style.cssText=g+e;r.onload=function(){r.style.visibility="visible";t&&t()};return r}function l(e){var t=e.split("/");return t[0]+"//"+t[2]}function c(i,a,o){var s=[],l;Object.keys(i).forEach(function(e){var t=e;a&&!isNaN(t)?t=a+t:"";var t=encodeURIComponent(t.replace(/[!'()*]/g,escape));o?t=o+"["+t+"]":"";if(typeof i[e]==="object"){var r=build_query(i[e],f,t);s.push(r)}else{var n=encodeURIComponent(i[e].replace(/[!'()*]/g,escape));if(n=="true")n="1";if(n=="false")n="0";(l=e.match(/^user([A-Z].*)/))?s.push("userdata["+l[1].toLowerCase()+"]="+n):s.push(t+"="+n)}});return s.join("&")}function i(e,t,r){o.addEventListener?o.addEventListener(e,t,!!r):o.attachEvent("on"+e,t)}function a(e,t){o.removeEventListener?o.removeEventListener(e,t):o.detachEvent("on"+e,t)}var o=window,d=document,u="MailsterSubscribe",f=null,p=".mailster-subscribe-button",h=d.querySelectorAll(p),v,b="setAttribute",m="message",y="popstate",g="border:0;overflow:hidden;visibility:hidden;display:inline-block;margin:0px !important;padding:0px !important;background:transparent;",x=false,w=[],E;if(o[u].loaded)return;for(E=h.length-1;E>=0;E--){w[E]=t(h[E],E)}i(m,r);o[u]={loaded:true,destroy:e,close:n}})();